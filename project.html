<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Corrected icon paths (inside /frontend/img/) -->
  <link rel="apple-touch-icon" sizes="180x180" href="frontend/img/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="frontend/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="frontend/img/favicon-16x16.png">
  <link rel="icon" href="frontend/img/favicon.ico">

  <!-- Corrected manifest path -->
  <link rel="manifest" href="./site.webmanifest">

  <title>Projects</title>

  <!-- Correct CSS path -->
  <link rel="stylesheet" href="project_style.css">

  <link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
</head>



<body>

  <!-- ===========================
       HEADER
  =========================== -->
 <header class="site-header">
  <div class="site-header-inner">

    <!-- Logo -->
    <a href="/" class="site-logo interactive">
      <div class="site-logo-mark"></div>
      <span class="site-logo-text">DIY Hub</span>
    </a>

    <!-- Minimal Navigation -->
    <nav class="site-nav">
      <ul class="site-nav-links">
        <li><a class="site-nav-link" href="/">Home</a></li>
      </ul>
    </nav>

    <!-- Auth Actions -->
    <div class="site-header-actions">
      <button class="btn-ghost interactive">Login</button>
      <button class="btn-primary interactive">Sign Up</button>
      <button class="menu-toggle interactive" aria-label="Toggle Menu">☰</button>
    </div>

  </div>
</header>


  <!-- ===========================
       SEARCH HERO
  =========================== -->
  <section class="search-area reveal-up">
    <h1 class="hero-title">Find How‑To Guides for Any DIY Project</h1>
    <p class="hero-subtitle">
      Search thousands of step‑by‑step tutorials, from flooring and painting to storage, lighting, and outdoor builds.
    </p>

    <div class="search-bar interactive">
      <input
        type="text"
        id="search-input"
        placeholder="Try: install vinyl flooring, build a shelf, paint a room..."
        aria-label="Search DIY Guides"
      >
      <select id="category-filter" aria-label="Filter by Category">
        <option value="">All Categories</option>
        <option value="Flooring">Flooring</option>
        <option value="Painting">Painting</option>
        <option value="Storage">Storage</option>
        <option value="Lighting">Lighting</option>
        <option value="Bathroom">Bathroom</option>
        <option value="Outdoor">Outdoor</option>
        <option value="Beginner">Beginner Friendly</option>
      </select>
      <button id="search-btn" class="interactive">Search</button>
    </div>

    <div id="suggestions"></div>
  </section>

  <!-- ===========================
       MAIN GRID (3 COLUMNS)
  =========================== -->
  <main class="page-grid">

    <!-- LEFT COLUMN — ADS -->
    <aside class="left-column reveal-left">

      <section class="panel interactive">
        <h3>Sponsored Tools</h3>
        <p>Upgrade your toolbox with pro‑grade essentials.</p>
        <a href="#" class="btn-link">Shop Tools</a>
      </section>

      <section class="panel interactive">
        <h3>DIY Deals</h3>
        <p>Save up to 40% on home improvement supplies.</p>
        <a href="#" class="btn-link">View Deals</a>
      </section>

      <section class="panel interactive">
        <h3>Local Hardware Stores</h3>
        <p>Find stores near you with the materials you need.</p>
        <a href="#" class="btn-link">Find Stores</a>
      </section>

    </aside>

    <!-- CENTER COLUMN -->
    <section class="center-column">

      <!-- Intro / Results Container -->
      <section id="results-container" class="panel reveal-up">

        <!-- Intro State -->
        <div id="intro-state">
          <h2>Welcome to Your DIY Search Engine</h2>
          <p>
            Type what you want to build, fix, or upgrade. We’ll show you the best guides, tools, and step‑by‑step instructions.
          </p>

          <ul class="intro-list">
            <li>Search by project, room, tool, or material.</li>
            <li>Filter by category for faster results.</li>
            <li>Every guide includes tools, materials, and steps.</li>
            <li>Perfect for beginners and experienced DIYers.</li>
          </ul>
        </div>

        <!-- Search Results -->
        <div id="search-results"></div>

      </section>

    </section>

    <!-- RIGHT COLUMN — PROMOS -->
    <aside class="right-column reveal-right">

      <section class="panel interactive">
        <h3>Featured Tool</h3>
        <img src="img/multitool.jpg" alt="Multi‑Tool Kit" class="product-img">
        <p>A versatile multi‑tool kit perfect for drilling, sanding, cutting, and more.</p>
        <a href="#" class="btn-link">Buy Now</a>
      </section>

      <section class="panel interactive">
        <h3>Need Professional Help?</h3>
        <p>Connect with trusted pros who can help finish your DIY project.</p>
        <a href="/contact.html" class="btn-link">Contact Services</a>
      </section>

      <section class="panel interactive">
        <h3>Advertise With Us</h3>
        <p>Showcase your tools, materials, or services to thousands of DIYers.</p>
        <a href="mailto:ads@diyhowto.com" class="btn-link">Get in Touch</a>
      </section>

    </aside>

  </main>

  <!-- ===========================
       FOOTER
  =========================== -->
  <footer>
    <div class="footer-content">
      <p>© 2025 DIY Hub. All rights reserved.</p>
      <nav class="footer-nav">
        <a href="/about.html">About</a>
        <a href="/categories.html">Categories</a>
        <a href="/contact.html">Contact</a>
        <a href="/privacy.html">Privacy</a>
      </nav>
    </div>
  </footer>

  <!-- ===========================
       AI ASSISTANT PANEL
  =========================== -->
  <div id="ai-assistant" class="assistant-panel">
    <div class="assistant-header">
      <h3>DIY AI Assistant</h3>
      <button id="assistant-close" class="assistant-close">×</button>
    </div>

    <div id="assistant-messages" class="assistant-messages">
      <div class="assistant-message assistant-bot">
        Hi! What DIY project can I help you with today?
      </div>
    </div>

    <div class="assistant-input-area">
      <input
        id="assistant-input"
        type="text"
        placeholder="Ask me anything about DIY..."
        aria-label="Ask the AI Assistant"
      >
      <button id="assistant-send" class="assistant-send">Send</button>
    </div>
  </div>

  <!-- Floating Hologram Button -->
  <button id="assistant-open" class="assistant-open-btn">
    <img src="https://img.icons8.com/3d-fluency/94/3d-blue-ai-chatbot-assistant-icon.png" alt="AI Assistant">
  </button>

</body>


<script>
/* ============================================================
   GLOBAL API BASE (REQUIRED FOR RENDER)
============================================================ */
const API_BASE = "https://letsee-1.onrender.com";

/* ============================================================
   REVEAL ANIMATIONS
============================================================ */
const revealEls = document.querySelectorAll(
  ".reveal-up, .reveal-left, .reveal-right"
);

const revealObserver = new IntersectionObserver(
  entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) entry.target.classList.add("visible");
    });
  },
  { threshold: 0.15 }
);

revealEls.forEach(el => revealObserver.observe(el));

/* ============================================================
   ELEMENTS
============================================================ */
const input = document.getElementById("search-input");
const button = document.getElementById("search-btn");
const resultsContainer = document.getElementById("search-results");
const categoryFilter = document.getElementById("category-filter");
const suggestions = document.getElementById("suggestions");
const introState = document.getElementById("intro-state");

/* ============================================================
   CARD GENERATOR
============================================================ */
function createCard(item) {
  const card = document.createElement("div");
  card.classList.add("result-card", "reveal-up");

  card.innerHTML = `
    <img src="${item.img}" alt="${item.name}" class="product-img">
    <h3>${item.name}</h3>
    <p>${item.desc}</p>
    <a href="${item.url}" class="btn-link">Open Guide</a>
  `;

  return card;
}

/* ============================================================
   INTRO FADE‑OUT
============================================================ */
function fadeOutIntro() {
  if (!introState) return;
  introState.style.opacity = "0";
  introState.style.transform = "translateY(-10px)";
  setTimeout(() => {
    introState.style.display = "none";
  }, 300);
}

/* ============================================================
   MAIN SEARCH FUNCTION (BACKEND POWERED)
============================================================ */
async function runSearch(page = 1) {
  const query = input.value.trim();
  const category = categoryFilter.value;

  fadeOutIntro();
  resultsContainer.innerHTML = "";

  const params = new URLSearchParams({
    q: query,
    page,
    limit: 10
  });

  if (category) params.append("category", category);

  const res = await fetch(`${API_BASE}/api/search?${params.toString()}`);
  const data = await res.json();

  if (data.results.length === 0) {
    resultsContainer.innerHTML = `
      <div class="panel reveal-up">
        <h3>No results found</h3>
        <p>Would you like to generate a new guide for "${query}"?</p>
        <button id="generate-btn" class="btn-primary">Generate Guide</button>
      </div>
    `;

    document.getElementById("generate-btn").onclick = () =>
      generateGuide(query);

    return;
  }

  data.results.forEach(item => {
    resultsContainer.appendChild(createCard(item));
  });

  renderPagination(data.page, data.totalPages, query);
}

/* ============================================================
   PAGINATION UI
============================================================ */
function renderPagination(page, totalPages) {
  if (totalPages <= 1) return;

  const pagination = document.createElement("div");
  pagination.classList.add("pagination");

  if (page > 1) {
    const prev = document.createElement("button");
    prev.textContent = "Previous";
    prev.onclick = () => runSearch(page - 1);
    pagination.appendChild(prev);
  }

  const pageInfo = document.createElement("span");
  pageInfo.textContent = `Page ${page} of ${totalPages}`;
  pagination.appendChild(pageInfo);

  if (page < totalPages) {
    const next = document.createElement("button");
    next.textContent = "Next";
    next.onclick = () => runSearch(page + 1);
    pagination.appendChild(next);
  }

  resultsContainer.appendChild(pagination);
}

/* ============================================================
   AI GUIDE GENERATION FALLBACK
============================================================ */
async function generateGuide(query) {
  const res = await fetch(
    `${API_BASE}/api/generate-guide?q=${encodeURIComponent(query)}`
  );
  const data = await res.json();

  await runSearch();
}

/* ============================================================
   SUGGESTIONS (BACKEND POWERED)
============================================================ */
let suggestionTimeout;

input.addEventListener("input", () => {
  clearTimeout(suggestionTimeout);
  suggestionTimeout = setTimeout(showSuggestions, 150);
});

async function showSuggestions() {
  const query = input.value.trim();
  if (!query) {
    suggestions.style.display = "none";
    return;
  }

  const res = await fetch(
    `${API_BASE}/api/search?q=${encodeURIComponent(query)}&limit=5`
  );
  const data = await res.json();

  if (data.results.length === 0) {
    suggestions.style.display = "none";
    return;
  }

  suggestions.innerHTML = "";
  data.results.forEach(item => {
    const div = document.createElement("div");
    div.classList.add("suggestion-item");
    div.textContent = item.name;

    div.onclick = () => {
      input.value = item.name;
      suggestions.style.display = "none";
      runSearch();
    };

    suggestions.appendChild(div);
  });

  suggestions.style.display = "block";
}

document.addEventListener("click", e => {
  if (!suggestions.contains(e.target) && e.target !== input) {
    suggestions.style.display = "none";
  }
});

/* ============================================================
   SEARCH EVENTS
============================================================ */
button.addEventListener("click", () => runSearch());
input.addEventListener("keypress", e => {
  if (e.key === "Enter") runSearch();
});
categoryFilter.addEventListener("change", () => runSearch());
</script>





</html>
























