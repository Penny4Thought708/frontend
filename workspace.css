/* ============================================================
   WORKSPACE.CSS â€” TRON HUD BACKGROUND + PARALLAX SYSTEM
   Controls hex grid, particles, scanlines, flicker, depth layers.
============================================================ */

/* ------------------------------------------------------------
   HUD LAYER BASE
------------------------------------------------------------ */
.hud-layer {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
  z-index: 0;
  transform-style: preserve-3d;
}

/* Depth ordering */
.depth-1 { z-index: 1; transform: var(--depth-1); }
.depth-2 { z-index: 2; transform: var(--depth-2); }
.depth-3 { z-index: 3; transform: var(--depth-3); }
.depth-4 { z-index: 4; transform: var(--depth-4); }
.depth-5 { z-index: 5; transform: var(--depth-5); }

/* ------------------------------------------------------------
   HEX GRID (G3 + H3)
------------------------------------------------------------ */
.hex-grid {
  position: absolute;
  inset: 0;
  background-size: var(--hex-size) var(--hex-size);
  background-image:
    linear-gradient(
      90deg,
      var(--hex-line) 1px,
      transparent 1px
    ),
    linear-gradient(
      var(--hex-line) 1px,
      transparent 1px
    );
  opacity: 0.55;
  animation: hexDrift 40s linear infinite;
}

.hex-grid.hex-strong {
  opacity: 0.75;
  background-image:
    linear-gradient(
      90deg,
      var(--hex-line-strong) 1px,
      transparent 1px
    ),
    linear-gradient(
      var(--hex-line-strong) 1px,
      transparent 1px
    );
}

/* Hex drift animation */
@keyframes hexDrift {
  0% { transform: translateY(0); }
  100% { transform: translateY(var(--hex-size)); }
}

/* ------------------------------------------------------------
   PARTICLE FIELD (Stars / Dust)
------------------------------------------------------------ */
.hud-particles {
  position: absolute;
  inset: 0;
  background-image:
    radial-gradient(circle, rgba(255,255,255,0.25) 1px, transparent 1px),
    radial-gradient(circle, rgba(255,255,255,0.15) 1px, transparent 1px),
    radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
  background-size:
    3px 3px,
    4px 4px,
    5px 5px;
  background-position:
    0 0,
    20px 40px,
    60px 80px;
  opacity: 0.35;
  animation: particleDrift 60s linear infinite;
}

@keyframes particleDrift {
  0% { transform: translateY(0); }
  100% { transform: translateY(-120px); }
}

/* ------------------------------------------------------------
   SCANLINE OVERLAY
------------------------------------------------------------ */
.scanlines {
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,0.03) 0px,
    rgba(255,255,255,0.03) 1px,
    transparent 2px
  );
  opacity: 0.15;
  animation: scanlineMove var(--hud-scanline-speed) linear infinite;
}

@keyframes scanlineMove {
  0% { background-position-y: 0; }
  100% { background-position-y: 100%; }
}

/* ------------------------------------------------------------
   FLICKER LAYER (Retro TRON CRT effect)
------------------------------------------------------------ */
.hud-flicker {
  position: absolute;
  inset: 0;
  background: rgba(255,255,255,0.02);
  mix-blend-mode: overlay;
  animation: flicker var(--hud-flicker-speed) steps(2, end) infinite;
}

@keyframes flicker {
  0% { opacity: 0.05; }
  50% { opacity: 0.15; }
  100% { opacity: 0.05; }
}

/* ------------------------------------------------------------
   WORKSPACE OVERLAY BLEND
------------------------------------------------------------ */
.workspace-bg {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    180deg,
    rgba(0,0,0,0.1),
    rgba(0,0,0,0.25)
  );
  pointer-events: none;
  z-index: 10;
}

/* ------------------------------------------------------------
   PARALLAX MOUSE MOVEMENT (JS applies transform)
------------------------------------------------------------ */
.hud-layer {
  transition: transform 0.1s linear;
}

/* ------------------------------------------------------------
   RESPONSIVE BEHAVIOR
------------------------------------------------------------ */
@media (max-width: 1200px) {
  .workspace-grid {
    grid-template-columns: 260px 1fr 300px;
  }
}

@media (max-width: 900px) {
  .workspace-grid {
    grid-template-columns: 1fr;
  }
  .hud-left,
  .hud-right {
    display: none;
  }
}
